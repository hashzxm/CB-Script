initializePage();<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Similarity Slut Report</title>
    <link rel="icon" type="image/png" href="callgirlc.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
        // Immediately sets theme to prevent flash of unstyled content
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; color: #1f2937; }
        .dark body { background-color: #111827; color: #d1d5db; }
        .card, .top-picks-card { background-color: white; border-color: #e5e7eb; }
        .dark .card, .dark .top-picks-card { background-color: #1f2937; border-color: #374151; }
        .card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .dark .card:hover { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4); }
        .low-data { color: #6b7280; font-style: italic; } .dark .low-data { color: #9ca3af; }
        .table-header th { background-color: #f9fafb; } .dark .table-header th { background-color: #374151; color: #d1d5db; }
        .player-row:hover { background-color: #f0f9ff; } .dark .player-row:hover { background-color: #374151; }
        .sortable { cursor: pointer; user-select: none; } .sortable:hover { background-color: #e5e7eb; } .dark .sortable:hover { background-color: #4b5563; }
        .sort-asc::after { content: ' ▲'; font-size: 0.7em; } .sort-desc::after { content: ' ▼'; font-size: 0.7em; }
        .game-header { background-color: #e5e7eb; color: #1f2937; } .dark .game-header { background-color: #374151; color: #f9fafb; }
        .pitcher-stats-box { background-color: #f9fafb; color: #374151; } .dark .pitcher-stats-box { background-color: #1f2937; color: #9ca3af; }

        .player-name-cell { display: flex; align-items: center; gap: 0.5rem; }
        .highlight-badge { font-size: 0.8rem; }
        .star-btn { background: none; border: none; cursor: pointer; padding: 0.25rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .star-btn:hover { background-color: rgba(252, 211, 77, 0.2); }
        .star-btn svg { width: 16px; height: 16px; color: #d1d5db; transition: color 0.2s, transform 0.2s; }
        .dark .star-btn svg { color: #4b5563; }
        .star-btn.starred svg { color: #f59e0b; transform: scale(1.2); }

        #tab-bar-container { position: relative; display: flex; justify-content: center; align-items: center; background-color: #e5e7eb; border-radius: 9999px; padding: 6px; width: max-content; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .dark #tab-bar-container { background-color: #374151; }
        .tab-item { position: relative; z-index: 10; display: flex; align-items: center; gap: 8px; padding: 8px 20px; border-radius: 9999px; font-weight: 600; font-size: 0.9rem; color: #4b5563; transition: color 0.3s; }
        .dark .tab-item { color: #d1d5db; } .tab-item.active { color: #111827; } .dark .tab-item.active { color: #f9fafb; }
        #tab-bar-slider { position: absolute; top: 6px; bottom: 6px; border-radius: 9999px; background-color: white; box-shadow: 0 2px 6px rgba(0,0,0,0.1); transition: left 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), width 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .dark #tab-bar-slider { background-color: #4b5563; }

        #game-ticker-container { overflow-x: auto; white-space: nowrap; padding: 0.5rem 1rem 1rem 1rem; scrollbar-width: none; }
        #game-ticker-container::-webkit-scrollbar { display: none; }
        .ticker-item { display: inline-flex; flex-direction: column; justify-content: center; vertical-align: top; text-align: center; padding: 0.75rem; background-color: white; border-radius: 0.75rem; margin-right: 0.75rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); cursor: pointer; transition: all 0.2s; border: 1px solid #e2e8f0; min-width: 160px; }
        .dark .ticker-item { background-color: #2d3748; border-color: #4a5568;}
        .ticker-item:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .ticker-item.high-park-factor { background-color: #fee2e2; border-color: #fca5a5; }
        .dark .ticker-item.high-park-factor { background-color: #450a0a; border-color: #991b1b; }
        .ticker-logo { width: 28px; height: 28px; object-fit: contain; }

        @keyframes cascadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card-cascade { animation: cascadeIn 0.5s cubic-bezier(0.25, 1, 0.5, 1) both; }

        .action-btn { display: inline-flex; align-items: center; gap: 0.5rem; background-color: #e5e7eb; color: #374151; font-weight: 500; padding: 0.5rem 1rem; border-radius: 0.5rem; transition: all 0.2s; }
        .dark .action-btn { background-color: #374151; color: #d1d5db; }
        .action-btn:hover { background-color: #d1d5db; } .dark .action-btn:hover { background-color: #4b5563; }
        .action-btn:active { transform: scale(0.97); }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; transform: translateY(10px); } 10%, 90% { opacity: 1; transform: translateY(0); } }
        #copy-feedback.show { display: inline-block; animation: fadeInOut 2s ease-in-out; }

        details > summary { list-style: none; cursor: pointer; }
        details > summary::-webkit-details-marker { display: none; }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">

    <div id="main-content" class="hidden">
        <div class="max-w-7xl mx-auto relative">
            <div class="absolute top-4 left-4 z-20">
                <button id="theme-toggle" type="button" class="text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-sm p-2.5 shadow-md">
                    <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                    <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                </button>
            </div>
            <div class="absolute top-4 right-4 flex items-center gap-4 z-20">
                <button id="settings-btn" class="text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-sm p-2.5 shadow-md">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 4a1 1 0 00-2 0v2.016a2 2 0 00.748 1.55l1 1A2 2 0 006 10.016V11a1 1 0 102 0v-.984a2 2 0 00.252-1.55l-1-1A2 2 0 006.502 6.016H6V4zM14 4a1 1 0 10-2 0v2.016a2 2 0 00.748 1.55l1 1A2 2 0 0015 10.016V11a1 1 0 102 0v-.984a2 2 0 00.252-1.55l-1-1A2 2 0 0015.502 6.016H15V4zM8 12a1 1 0 10-2 0v2.016a2 2 0 00.748 1.55l1 1A2 2 0 009 18.016V19a1 1 0 102 0v-.984a2 2 0 00.252-1.55l-1-1A2 2 0 0010.502 14.016H10v-2.016z"/></svg>
                </button>
                <button id="zxm-button" class="px-4 py-2 text-sm bg-gray-800 text-white font-bold rounded-lg shadow-lg hover:bg-black">zxm</button>
            </div>

            <header class="text-center pt-8 mb-4">
                <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 dark:text-gray-100">Similarity Slut</h1>

                <div class="flex justify-center items-center gap-2 mt-4">
                    <div id="tab-bar-container">
                        <div id="tab-bar-slider"></div>
                        <button class="tab-item active" data-view="dashboard">
                            <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z" /><path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z" /></svg>
                            <span>Dashboard</span>
                        </button>
                        <button class="tab-item" data-view="grid">
                            <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
                            <span>All Games</span>
                        </button>
                        <button class="tab-item" data-view="picks">
                            <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                            <span>My Picks</span>
                        </button>
                    </div>
                </div>
            </header>

            <main>
                <div id="game-ticker-container" class="my-6"></div>
                <div id="dashboard-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                <div id="grid-container" class="hidden grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                <div id="picks-container" class="hidden"></div>
                <div id="focus-view-container" class="hidden grid grid-cols-1 md:grid-cols-2 gap-8">
                     <div id="focus-lists" class="flex flex-col gap-6"></div>
                     <div id="focus-game"></div>
                </div>
            </main>

        </div>
        <footer class="mt-12 text-center">
             <div class="disclaimer my-6 max-w-3xl mx-auto p-4 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800">
                 <p class="text-sm text-gray-600 dark:text-gray-400 font-semibold text-center">Disclaimer</p>
                 <p class="text-xs text-gray-500 dark:text-gray-400 text-center mt-2">
                     This report is for informational and entertainment purposes only. All predictions are generated by statistical models using historical data and are not guaranteed to be accurate. This information should not be considered as financial or gambling advice. Please gamble responsibly and only wager what you can afford to lose. The creators of this tool are not responsible for any financial losses incurred.
                 </p>
             </div>
        </footer>
    </div>

    <div id="settings-modal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md">
            <div class="flex justify-between items-center border-b pb-3 dark:border-gray-600">
                <h2 class="text-xl font-bold">Customize Highlights</h2>
                <button id="settings-close-btn" class="p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">&times;</button>
            </div>
            <div class="mt-4 space-y-4 text-sm">
                <p class="text-gray-600 dark:text-gray-400">Set the minimum values to trigger a highlight badge.</p>
                <div class="flex items-center justify-between">
                    <label for="thresh-90day" class="font-semibold">🔥 90-Day Prob is greater than:</label>
                    <input type="number" id="thresh-90day" class="w-24 p-1 border rounded dark:bg-gray-700 dark:border-gray-600">
                </div>
                <div class="flex items-center justify-between">
                    <label for="thresh-2year" class="font-semibold">⭐ 2-Year Prob is greater than:</label>
                    <input type="number" id="thresh-2year" class="w-24 p-1 border rounded dark:bg-gray-700 dark:border-gray-600">
                </div>
                <div class="flex items-center justify-between">
                    <label for="thresh-hrsim" class="font-semibold">⚾ HR Sim Score is at least:</label>
                    <input type="number" id="thresh-hrsim" class="w-24 p-1 border rounded dark:bg-gray-700 dark:border-gray-600">
                </div>
                <div class="flex items-center justify-between">
                    <label for="thresh-parkfactor" class="font-semibold">Park Factor Highlight is at least:</label>
                    <input type="number" id="thresh-parkfactor" class="w-24 p-1 border rounded dark:bg-gray-700 dark:border-gray-600">
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button id="settings-cancel-btn" class="px-4 py-2 rounded-md bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500">Cancel</button>
                <button id="settings-save-btn" class="px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700">Save Changes</button>
            </div>
        </div>
    </div>

    <script>
        // =================================================================================
        // PASTE YOUR REPORT TEXT HERE
        // =================================================================================
        const reportText = `
======================================================================================================================================================
                                                      HOME RUN PREDICTION REPORT FOR 2025-08-06                                                       
======================================================================================================================================================
                                                    --- TOP 10 PICKS OF THE DAY (90-Day Model) ---                                                    
------------------------------------------------------------------------------------------------------------------------------------------------------
  Rank  | Batter               | Pitcher              |   Final Score   | Top Factors                                       
  ----- | -------------------- | -------------------- | --------------- | --------------------------------------------------
  #1    | Juan Soto            | Gavin Williams       |      57.25%     | hr_per_9 (-), g (+), hr_per_fb (+)
  #2    | Brett Baty           | Gavin Williams       |      56.05%     | hr_per_9 (-), g (+), iso (-)
  #3    | Trevor Story         | Michael Wacha        |      48.16%     | hr_per_9 (-), g (+), iso (-)
  #4    | Jorge Polanco        | Jonathan Cannon      |      47.38%     | hr_per_9 (-), g (+), iso (-)
  #5    | Isaac Collins        | Spencer Strider      |      46.75%     | hr_per_9 (-), g (+), iso (-)
  #6    | Jeff McNeil          | Gavin Williams       |      46.19%     | hr_per_9 (-), g (+), iso (-)
  #7    | Francisco Lindor     | Gavin Williams       |      46.17%     | hr_per_9 (-), g (+), iso (-)
  #8    | Matt Wallner         | Jack Flaherty        |      46.03%     | hr_per_9 (-), g (+), hr_per_fb (+)
  #9    | John Rave            | Dustin May           |      45.52%     | hr_per_9 (-), g (+), iso (-)
  #10   | Andrew Benintendi    | George Kirby         |      45.42%     | hr_per_9 (-), g (+), iso (-)

========================================================================================================================
GAME: Orioles @ Phillies (12:35 PM ET) | HR Park Factor: 105
------------------------------------------------------------------------------------------------------------------------
  Phillies Batters vs. Trevor Rogers (Last 90d: 210 PA | 22.9% K | 6.2% BB | 0.95% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Kyle Schwarber            |      34.29%     |      29.54%     |      3/100     
  Nick Castellanos          |      33.19%     |      28.41%     |      13/100    
  Trea Turner               |      31.26%     |      26.90%     |      13/100    
  Edmundo Sosa              |      30.89%     |      25.43%     |      6/100     
  Weston Wilson             |      29.39%     |      20.10%     |      4/100     
  Harrison Bader            |      28.43%     |      25.45%     |      8/100     
  Otto Kemp                 |      27.83%     |      17.65%     |      4/100     
  Bryce Harper              |      25.31%     |      25.93%     |      8/100     
  Rafael Marchán            |      16.11%     |      20.50%     |      4/100     

------------------------------------------------------------------------------------------------------------------------
  Orioles Batters vs. Ranger Suárez (Last 90d: 410 PA | 23.2% K | 6.6% BB | 1.71% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Tyler O'Neill             |      24.61%     |      36.29%     |      17/100    
  Dylan Carlson             |      23.91%     |      22.76%     |      23/100    
  Jordan Westburg           |      22.28%     |      24.69%     |      14/100    
  Colton Cowser             |      21.78%     |      28.15%     |      19/100    
  Adley Rutschman           |      21.73%     |      29.56%     |      14/100    
  Jackson Holliday          |      21.34%     |      29.55%     |      18/100    
  Gunnar Henderson          |      20.91%     |      30.12%     |      14/100    
  Coby Mayo                 |      20.62%     |      21.59%     |      24/100    

========================================================================================================================
GAME: Giants @ Pirates (12:35 PM ET) | HR Park Factor: 94
------------------------------------------------------------------------------------------------------------------------
  Pirates Batters vs. Robbie Ray (Last 90d: 393 PA | 25.2% K | 8.1% BB | 2.80% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Liover Peguero            |      33.91%     |      33.43%     |      9/100     
  Andrew McCutchen          |      33.57%     |      42.76%     |      30/100    
  Bryan Reynolds            |      30.35%     |      45.13%     |      37/100    
  Nick Gonzales             |      29.31%     |      30.33%     |      32/100    
  Jared Triolo              |      27.42%     |      34.19%     |      22/100    
  Alexander Canario         |      26.46%     |      35.58%     |      35/100    
  Tommy Pham                |      25.47%     |      35.93%     |      28/100    
  Isiah Kiner-Falefa        |      23.41%     |      27.38%     |      13/100    
  Joey Bart                 |      22.74%     |      37.64%     |      7/100     

------------------------------------------------------------------------------------------------------------------------
  Giants Batters vs. Andrew Heaney (Last 90d: 334 PA | 14.4% K | 8.1% BB | 5.39% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Rafael Devers             |      41.25%     |      42.90%     |      34/100    
  Willy Adames              |      31.46%     |      47.68%     |      61/100    
  Jung Hoo Lee              |      31.14%     |      27.79%     |      58/100    
  Matt Chapman              |      27.88%     |      38.15%     |      71/100    
  Heliot Ramos              |      25.41%     |      40.73%     |      46/100    
  Casey Schmitt             |      25.34%     |      39.22%     |      57/100    
  Christian Koss            |      22.10%     |      26.95%     |      20/100    
  Andrew Knizner            |      15.56%     |      27.95%     |      21/100    
  Jerar Encarnacion         |      13.33%     |      29.34%     |      7/100     

========================================================================================================================
GAME: Twins @ Tigers (1:10 PM ET) | HR Park Factor: 93
------------------------------------------------------------------------------------------------------------------------
  Tigers Batters vs. Thomas Hatch (Last 90d: 5 PA | 20.0% K | 0.0% BB | 20.00% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Riley Greene              |     Low Data    |      28.70%     |      2/100     
  Kerry Carpenter           |     Low Data    |      31.26%     |      2/100     
  Colt Keith                |     Low Data    |      26.32%     |      2/100     
  Dillon Dingler            |     Low Data    |      24.21%     |      2/100     
  Gleyber Torres            |     Low Data    |      27.54%     |      2/100     
  Zach McKinstry            |     Low Data    |      22.90%     |      2/100     
  Wenceel Pérez             |     Low Data    |      25.07%     |      2/100     
  Spencer Torkelson         |     Low Data    |      34.05%     |      2/100     
  Matt Vierling             |     Low Data    |      24.23%     |      2/100     

------------------------------------------------------------------------------------------------------------------------
  Twins Batters vs. Jack Flaherty (Last 90d: 327 PA | 30.0% K | 10.7% BB | 4.28% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Matt Wallner              |      46.03%     |      52.21%     |      20/100    
  Kody Clemens              |      41.30%     |      49.87%     |      18/100    
  Ryan Jeffers              |      39.14%     |      49.96%     |      51/100    
  Trevor Larnach            |      36.26%     |      49.46%     |      60/100    
  Brooks Lee                |      36.15%     |      40.25%     |      48/100    
  Royce Lewis               |      32.65%     |      52.71%     |      28/100    
  Alan Roden                |      25.59%     |      25.09%     |      8/100     
  Mickey Gasper             |     Low Data    |      19.09%     |      6/100     
  Luke Keaschall            |     Low Data    |      22.64%     |       N/A      

========================================================================================================================
GAME: Guardians @ Mets (1:10 PM ET) | HR Park Factor: 99
------------------------------------------------------------------------------------------------------------------------
  Mets Batters vs. Gavin Williams (Last 90d: 349 PA | 22.3% K | 12.3% BB | 2.58% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Juan Soto                 |      57.25%     |      40.44%     |      25/100    
  Brett Baty                |      56.05%     |      35.87%     |      31/100    
  Jeff McNeil               |      46.19%     |      36.79%     |      17/100    
  Francisco Lindor          |      46.17%     |      43.75%     |      40/100    
  Brandon Nimmo             |      41.97%     |      43.63%     |      41/100    
  Pete Alonso               |      41.72%     |      45.63%     |      53/100    
  Cedric Mullins            |      36.29%     |      42.54%     |      35/100    
  Mark Vientos              |      32.08%     |      40.13%     |      36/100    
  Luis Torrens              |      27.90%     |      25.34%     |      15/100    

------------------------------------------------------------------------------------------------------------------------
  Guardians Batters vs. David Peterson (Last 90d: 387 PA | 19.4% K | 8.5% BB | 1.29% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  David Fry                 |      23.68%     |      29.44%     |      8/100     
  Angel Martínez            |      22.71%     |      20.14%     |      29/100    
  José Ramírez              |      22.35%     |      29.16%     |      7/100     
  Carlos Santana            |      20.52%     |      28.36%     |      12/100    
  Gabriel Arias             |      16.96%     |      22.77%     |      12/100    
  Steven Kwan               |      16.02%     |      19.53%     |      7/100     
  Brayan Rocchio            |      15.62%     |      19.14%     |      45/100    
  Austin Hedges             |      14.99%     |      18.78%     |      18/100    
  Nolan Jones               |      13.55%     |      23.20%     |      29/100    

========================================================================================================================
GAME: Reds @ Cubs (2:20 PM ET) | HR Park Factor: 98
------------------------------------------------------------------------------------------------------------------------
  Cubs Batters vs. Andrew Abbott (Last 90d: 363 PA | 20.1% K | 5.8% BB | 2.20% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Pete Crow-Armstrong       |      44.05%     |      43.27%     |      15/100    
  Kyle Tucker               |      35.95%     |      51.16%     |      14/100    
  Ian Happ                  |      34.19%     |      40.34%     |      32/100    
  Seiya Suzuki              |      31.39%     |      47.05%     |      16/100    
  Carson Kelly              |      26.58%     |      34.78%     |      37/100    
  Dansby Swanson            |      25.90%     |      39.50%     |      32/100    
  Nico Hoerner              |      25.24%     |      26.13%     |      21/100    
  Matt Shaw                 |      22.05%     |      29.17%     |      45/100    
  Justin Turner             |      21.74%     |      36.97%     |     100/100    

------------------------------------------------------------------------------------------------------------------------
  Reds Batters vs. Cade Horton (Last 90d: 312 PA | 17.0% K | 8.0% BB | 2.24% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  TJ Friedl                 |      44.37%     |      30.83%     |      16/100    
  Elly De La Cruz           |      32.47%     |      36.38%     |      16/100    
  Ke'Bryan Hayes            |      28.89%     |      25.40%     |      14/100    
  Austin Hays               |      28.87%     |      34.37%     |      26/100    
  Spencer Steer             |      28.77%     |      36.77%     |      23/100    
  Matt McLain               |      28.52%     |      32.30%     |      67/100    
  Tyler Stephenson          |      26.01%     |      34.55%     |      10/100    
  Jake Fraley               |      25.09%     |      28.03%     |      5/100     
  Gavin Lux                 |      20.59%     |      28.44%     |      20/100    

========================================================================================================================
GAME: Yankees @ Rangers (2:35 PM ET) | HR Park Factor: 104
------------------------------------------------------------------------------------------------------------------------
  Rangers Batters vs. Carlos Rodón (Last 90d: 383 PA | 27.2% K | 8.6% BB | 3.39% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Corey Seager              |      45.26%     |      45.68%     |      22/100    
  Marcus Semien             |      43.14%     |      49.11%     |      33/100    
  Josh Jung                 |      40.32%     |      38.61%     |      25/100    
  Adolis García             |      39.06%     |      44.75%     |      29/100    
  Wyatt Langford            |      38.59%     |      43.22%     |      38/100    
  Jonah Heim                |      34.99%     |      39.40%     |      24/100    
  Ezequiel Duran            |      28.16%     |      28.31%     |      23/100    
  Kyle Higashioka           |      27.26%     |      46.32%     |      25/100    
  Sam Haggerty              |      23.89%     |      26.51%     |      23/100    

------------------------------------------------------------------------------------------------------------------------
  Yankees Batters vs. Jack Leiter (Last 90d: 340 PA | 21.8% K | 12.1% BB | 2.65% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Trent Grisham             |      44.34%     |      43.49%     |      23/100    
  Anthony Volpe             |      40.23%     |      41.20%     |      51/100    
  Austin Wells              |      39.27%     |      44.68%     |      30/100    
  Cody Bellinger            |      39.22%     |      46.78%     |      40/100    
  Aaron Judge               |      37.17%     |      55.43%     |      31/100    
  Ryan McMahon              |      35.15%     |      41.47%     |      18/100    
  Jasson Domínguez          |      29.50%     |      37.19%     |      27/100    
  Jazz Chisholm             |      27.41%     |      46.32%     |      39/100    
  Paul Goldschmidt          |      26.74%     |      43.54%     |      29/100    

========================================================================================================================
GAME: Blue Jays @ Rockies (3:10 PM ET) | HR Park Factor: 107
------------------------------------------------------------------------------------------------------------------------
  Rockies Batters vs. Kevin Gausman (Last 90d: 370 PA | 24.3% K | 6.5% BB | 3.51% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Ezequiel Tovar            |      37.43%     |      36.76%     |      24/100    
  Mickey Moniak             |      36.27%     |      36.02%     |      54/100    
  Warming Bernabel          |      30.32%     |      31.40%     |      2/100     
  Brenton Doyle             |      29.56%     |      35.89%     |      39/100    
  Orlando Arcia             |      27.29%     |      35.45%     |      13/100    
  Thairo Estrada            |      26.45%     |      33.67%     |      11/100    
  Tyler Freeman             |      23.79%     |      28.44%     |      17/100    
  Hunter Goodman            |      22.79%     |      34.19%     |      41/100    
  Jordan Beck               |      22.20%     |      32.52%     |      31/100    

------------------------------------------------------------------------------------------------------------------------
  Blue Jays Batters vs. Kyle Freeland (Last 90d: 299 PA | 15.4% K | 6.4% BB | 4.01% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Daulton Varsho            |      33.53%     |      44.33%     |      15/100    
  Joey Loperfido            |      31.50%     |      28.19%     |      31/100    
  Nathan Lukes              |      31.45%     |      26.91%     |      20/100    
  Bo Bichette               |      31.20%     |      28.51%     |      55/100    
  Addison Barger            |      29.02%     |      32.57%     |      42/100    
  Ernie Clement             |      25.65%     |      28.68%     |      16/100    
  Ty France                 |      23.71%     |      35.34%     |      35/100    
  Alejandro Kirk            |      23.52%     |      26.96%     |      38/100    
  Vladimir Guerrero         |      18.42%     |      44.51%     |      5/100     

========================================================================================================================
GAME: Rays @ Angels (4:07 PM ET) | HR Park Factor: 107
------------------------------------------------------------------------------------------------------------------------
  Angels Batters vs. Shane Baz (Last 90d: 386 PA | 22.5% K | 8.8% BB | 4.15% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Jo Adell                  |      31.59%     |      46.29%     |       N/A      
  Taylor Ward               |      30.69%     |      51.94%     |       N/A      
  Luis Rengifo              |      29.71%     |      37.18%     |       N/A      
  Christian Moore           |      29.70%     |      31.90%     |       N/A      
  Nolan Schanuel            |      27.84%     |      36.61%     |       N/A      
  Mike Trout                |      26.66%     |      48.09%     |       N/A      
  Logan O'Hoppe             |      26.22%     |      39.91%     |       N/A      
  Zach Neto                 |      25.60%     |      42.65%     |       N/A      
  Gustavo Campero           |      22.76%     |      30.45%     |       N/A      

------------------------------------------------------------------------------------------------------------------------
  Rays Batters vs. Tyler Anderson (Last 90d: 382 PA | 17.0% K | 7.6% BB | 4.45% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Josh Lowe                 |      38.88%     |      40.24%     |      49/100    
  Brandon Lowe              |      36.54%     |      40.07%     |      24/100    
  Yandy Díaz                |      29.41%     |      34.54%     |      27/100    
  Junior Caminero           |      28.89%     |      38.58%     |      38/100    
  Christopher Morel         |      27.16%     |      40.09%     |      25/100    
  Jake Mangum               |      24.87%     |      19.99%     |      11/100    
  Ha-Seong Kim              |      22.00%     |      31.76%     |      14/100    
  Nick Fortes               |      21.69%     |      27.09%     |      12/100    
  Jonny DeLuca              |      11.13%     |      28.72%     |      5/100     

========================================================================================================================
GAME: Cardinals @ Dodgers (4:10 PM ET) | HR Park Factor: 108
------------------------------------------------------------------------------------------------------------------------
  Dodgers Batters vs. Matthew Liberatore (Last 90d: 332 PA | 16.3% K | 6.9% BB | 2.41% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Shohei Ohtani             |      45.27%     |      31.33%     |      6/100     
  Max Muncy                 |      36.34%     |      35.28%     |       N/A      
  Miguel Rojas              |      29.56%     |      24.90%     |      27/100    
  Freddie Freeman           |      23.54%     |      36.30%     |      52/100    
  Teoscar Hernández         |      22.68%     |      30.77%     |      16/100    
  Will Smith                |      22.04%     |      36.93%     |      32/100    
  Alex Call                 |      21.33%     |      19.71%     |      49/100    
  Mookie Betts              |      21.30%     |      31.81%     |      20/100    
  Andy Pages                |      21.20%     |      30.53%     |      32/100    

------------------------------------------------------------------------------------------------------------------------
  Cardinals Batters vs. Justin Wrobleski (Last 90d: 158 PA | 26.6% K | 5.1% BB | 1.90% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Lars Nootbaar             |      26.57%     |      41.27%     |      9/100     
  Alec Burleson             |      25.35%     |      41.61%     |      7/100     
  Willson Contreras         |      24.43%     |      38.80%     |      8/100     
  Nolan Gorman              |      21.67%     |      49.52%     |      6/100     
  Iván Herrera              |      20.71%     |      36.60%     |      10/100    
  Masyn Winn                |      19.72%     |      39.02%     |      6/100     
  Yohel Pozo                |      18.41%     |      28.76%     |      16/100    
  Brendan Donovan           |      17.82%     |      38.33%     |      3/100     
  Victor Scott              |      14.75%     |      34.07%     |      2/100     

========================================================================================================================
GAME: Astros @ Marlins (4:40 PM ET) | HR Park Factor: 98
------------------------------------------------------------------------------------------------------------------------
  Marlins Batters vs. Spencer Arrighetti (Low Data)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Xavier Edwards            |     Low Data    |      26.74%     |       N/A      
  Kyle Stowers              |     Low Data    |      39.15%     |       N/A      
  Agustín Ramírez           |     Low Data    |      35.86%     |       N/A      
  Liam Hicks                |     Low Data    |      29.05%     |       N/A      
  Otto Lopez                |     Low Data    |      39.22%     |       N/A      
  Dane Myers                |     Low Data    |      37.45%     |       N/A      
  Graham Pauley             |     Low Data    |      31.87%     |       N/A      

------------------------------------------------------------------------------------------------------------------------
  Astros Batters vs. Janson Junk (Last 90d: 264 PA | 18.2% K | 2.3% BB | 0.76% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Jeremy Peña               |      35.74%     |      21.44%     |      5/100     
  Yainer Diaz               |      29.25%     |      24.60%     |      5/100     
  Christian Walker          |      25.48%     |      27.58%     |      6/100     
  Mauricio Dubón            |      23.65%     |      19.29%     |      3/100     
  Carlos Correa             |      22.94%     |      22.73%     |      4/100     
  Taylor Trammell           |      22.82%     |      20.13%     |      5/100     
  José Altuve               |      22.59%     |      31.47%     |      3/100     
  Cam Smith                 |      20.09%     |      21.11%     |      6/100     
  T. J. McFarland           |     Low Data    |     Low Data    |       N/A      

========================================================================================================================
GAME: ATH @ Nationals (6:45 PM ET) | HR Park Factor: 100
------------------------------------------------------------------------------------------------------------------------
  Nationals Batters vs. Jeffrey Springs (Last 90d: 370 PA | 20.0% K | 6.2% BB | 4.32% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  James Wood                |      43.62%     |      44.22%     |      15/100    
  Nathaniel Lowe            |      43.09%     |      45.54%     |      43/100    
  CJ Abrams                 |      36.00%     |      47.30%     |      27/100    
  Riley Adams               |      35.65%     |      37.50%     |      19/100    
  Paul DeJong               |      32.82%     |      44.08%     |      15/100    
  Josh Bell                 |      29.61%     |      47.22%     |      22/100    
  Daylen Lile               |      25.25%     |      21.56%     |      16/100    
  Jacob Young               |      24.41%     |      25.35%     |      16/100    
  Brady House               |      19.09%     |      27.29%     |      28/100    

========================================================================================================================
GAME: Royals @ Red Sox (7:10 PM ET) | HR Park Factor: 99
------------------------------------------------------------------------------------------------------------------------
  Red Sox Batters vs. Michael Wacha (Last 90d: 358 PA | 18.4% K | 6.1% BB | 2.79% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Trevor Story              |      48.16%     |      32.52%     |      28/100    
  Ceddanne Rafaela          |      41.94%     |      32.66%     |      29/100    
  Carlos Narváez            |      38.96%     |      26.18%     |      70/100    
  Alex Bregman              |      35.28%     |      40.24%     |      26/100    
  Wilyer Abreu              |      32.67%     |      41.92%     |      58/100    
  Abraham Toro              |      32.11%     |      28.61%     |      28/100    
  Masataka Yoshida          |      31.07%     |      29.93%     |      13/100    
  Jarren Duran              |      30.14%     |      35.51%     |      59/100    
  Roman Anthony             |      28.22%     |      20.04%     |      33/100    

------------------------------------------------------------------------------------------------------------------------
  Royals Batters vs. Dustin May (Last 90d: 334 PA | 22.5% K | 8.4% BB | 4.49% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  John Rave                 |      45.52%     |      30.76%     |      33/100    
  Vinnie Pasquantino        |      44.20%     |      44.24%     |      63/100    
  Mike Yastrzemski          |      41.05%     |      46.28%     |      54/100    
  Jonathan India            |      36.42%     |      41.72%     |      39/100    
  Maikel García             |      33.93%     |      44.71%     |      95/100    
  Bobby Witt                |      33.78%     |      54.53%     |     100/100    
  Adam Frazier              |      31.92%     |      31.92%     |      28/100    
  Salvador Pérez            |      30.23%     |      53.33%     |      67/100    
  Kyle Isbel                |      30.00%     |      31.89%     |      22/100    

========================================================================================================================
GAME: Brewers @ Braves (7:15 PM ET) | HR Park Factor: 98
------------------------------------------------------------------------------------------------------------------------
  Braves Batters vs. Jose Quintana (Last 90d: 257 PA | 14.8% K | 10.1% BB | 3.11% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Matt Olson                |      37.40%     |      37.30%     |      13/100    
  Sean Murphy               |      35.83%     |      36.95%     |      27/100    
  Marcell Ozuna             |      33.75%     |      36.76%     |      8/100     
  Eli White                 |      30.53%     |      24.30%     |      14/100    
  Ozzie Albies              |      26.31%     |      32.46%     |      12/100    
  Nick Allen                |      26.19%     |      19.82%     |      11/100    
  Michael Harris            |      23.75%     |      37.25%     |      3/100     
  Jurickson Profar          |      20.95%     |      31.70%     |      16/100    
  Nacho Alvarez             |     Low Data    |      21.43%     |      2/100     

------------------------------------------------------------------------------------------------------------------------
  Brewers Batters vs. Spencer Strider (Last 90d: 307 PA | 27.7% K | 10.1% BB | 2.93% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Isaac Collins             |      46.75%     |      30.85%     |      13/100    
  Andrew Vaughn             |      42.11%     |      43.88%     |      20/100    
  Christian Yelich          |      41.55%     |      44.20%     |      32/100    
  Blake Perkins             |      39.88%     |      32.82%     |      5/100     
  Joey Ortiz                |      39.11%     |      32.92%     |      8/100     
  Caleb Durbin              |      38.68%     |      26.79%     |      6/100     
  Brice Turang              |      37.46%     |      30.74%     |      21/100    
  Sal Frelick               |      34.24%     |      30.80%     |      6/100     
  William Contreras         |      26.28%     |      39.73%     |      13/100    

========================================================================================================================
GAME: White Sox @ Mariners (9:40 PM ET) | HR Park Factor: 97
------------------------------------------------------------------------------------------------------------------------
  Mariners Batters vs. Jonathan Cannon (Last 90d: 246 PA | 17.5% K | 5.7% BB | 4.47% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Jorge Polanco             |      47.38%     |      47.71%     |      55/100    
  Cal Raleigh               |      44.54%     |      55.45%     |      47/100    
  Dominic Canzone           |      38.15%     |      43.99%     |      43/100    
  Randy Arozarena           |      35.58%     |      44.07%     |      55/100    
  Julio Rodríguez           |      35.51%     |      41.03%     |      21/100    
  J. P. Crawford            |      35.39%     |      44.87%     |      3/100     
  Cole Young                |      34.98%     |      26.79%     |      29/100    
  Josh Naylor               |      29.52%     |      45.89%     |      28/100    
  José Suarez               |     Low Data    |     Low Data    |       N/A      

------------------------------------------------------------------------------------------------------------------------
  White Sox Batters vs. George Kirby (Last 90d: 296 PA | 25.0% K | 6.1% BB | 3.04% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Andrew Benintendi         |      45.42%     |      43.59%     |      40/100    
  Colson Montgomery         |      39.00%     |      27.93%     |      28/100    
  Mike Tauchman             |      38.11%     |      34.11%     |      55/100    
  Luis Robert               |      34.09%     |      42.44%     |      41/100    
  Lenyn Sosa                |      32.80%     |      33.59%     |      14/100    
  Chase Meidroth            |      32.27%     |      22.51%     |      32/100    
  Josh Rojas                |      29.12%     |      33.82%     |      26/100    
  Kyle Teel                 |      27.97%     |      25.37%     |      16/100    
  Edgar Quero               |      26.67%     |      20.05%     |      19/100    

========================================================================================================================
GAME: Padres @ Diamondbacks (9:40 PM ET) | HR Park Factor: 100
------------------------------------------------------------------------------------------------------------------------
  Diamondbacks Batters vs. Néstor Cortés (Low Data)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Corbin Carroll            |     Low Data    |      31.66%     |       N/A      
  Ketel Marte               |     Low Data    |      35.07%     |       N/A      
  Geraldo Perdomo           |     Low Data    |      21.66%     |       N/A      
  Lourdes Gurriel           |     Low Data    |      36.32%     |       N/A      
  Adrian Del Castillo       |     Low Data    |      28.73%     |       N/A      
  Tyler Locklear            |     Low Data    |      26.16%     |       N/A      
  Alek Thomas               |     Low Data    |      24.72%     |       N/A      
  James McCann              |     Low Data    |      29.12%     |       N/A      
  Blaze Alexander           |     Low Data    |      20.92%     |       N/A      

------------------------------------------------------------------------------------------------------------------------
  Padres Batters vs. Anthony DeSclafani (Last 90d: 112 PA | 21.4% K | 6.2% BB | 5.36% HR)
  Batter                    |   90-Day Prob   |   2-Year Prob   |  HR Comp Score 
  ------------------------- | --------------- | --------------- | ---------------
  Ramón Laureano            |      41.96%     |      45.37%     |      60/100    
  Manny Machado             |      38.08%     |      43.06%     |      27/100    
  Xander Bogaerts           |      37.95%     |      37.29%     |      37/100    
  Ryan O'Hearn              |      34.36%     |      44.22%     |      21/100    
  Fernando Tatís            |      33.48%     |      54.74%     |      88/100    
  Jake Cronenworth          |      31.62%     |      40.50%     |      26/100    
  Luis Arráez               |      26.71%     |      29.03%     |      92/100    
  Freddy Fermin             |      26.44%     |      35.14%     |      40/100    
  Jackson Merrill           |      20.66%     |      39.58%     |      25/100    

========================================================================================================================`;
        const similarityReportText = `========================================================================================================================
                          LIVE BATTER SIMILARITY REPORT - 2025-08-06 - RANKED BY 90-DAY SCORE                           
========================================================================================================================
  Rank  | Batter                    | Pitcher                   |   90-Day Sim    |   2-Year Sim    | Game                          
  ----- | ------------------------- | ------------------------- | --------------- | --------------- | ------------------------------
  #1    | Trevor Larnach            | Jack Flaherty             |    26.4/100     |    28.7/100     | Twins @ Tigers                
  #2    | Manny Machado             | Anthony DeSclafani        |    26.2/100     |    21.0/100     | Padres @ Diamondbacks         
  #3    | Yandy Díaz                | Tyler Anderson            |    22.8/100     |    24.3/100     | Rays @ Angels                 
  #4    | Ramón Laureano            | Anthony DeSclafani        |    22.0/100     |    19.9/100     | Padres @ Diamondbacks         
  #5    | Alexander Canario         | Robbie Ray                |    21.4/100     |     5.6/100     | Giants @ Pirates              
  #6    | Willy Adames              | Andrew Heaney             |    19.8/100     |    20.2/100     | Giants @ Pirates              
  #7    | Christian Yelich          | Spencer Strider           |    19.7/100     |     6.4/100     | Brewers @ Braves              
  #8    | Heliot Ramos              | Andrew Heaney             |    18.1/100     |    39.1/100     | Giants @ Pirates              
  #9    | Brenton Doyle             | Kevin Gausman             |    17.9/100     |    15.6/100     | Blue Jays @ Rockies           
  #10   | Carlos Narváez            | Michael Wacha             |    17.4/100     |     9.3/100     | Royals @ Red Sox              
  #11   | Wyatt Langford            | Carlos Rodón              |    17.3/100     |    26.9/100     | Yankees @ Rangers             
  #12   | Ezequiel Duran            | Carlos Rodón              |    17.0/100     |    12.3/100     | Yankees @ Rangers             
  #13   | Jordan Beck               | Kevin Gausman             |    16.1/100     |    20.3/100     | Blue Jays @ Rockies           
  #14   | Brady House               | Jeffrey Springs           |    15.4/100     |     8.6/100     | ATH @ Nationals               
  #15   | Rafael Devers             | Andrew Heaney             |    15.0/100     |    18.0/100     | Giants @ Pirates              
  #16   | Randy Arozarena           | Jonathan Cannon           |    14.7/100     |    42.0/100     | White Sox @ Mariners          
  #17   | Josh Jung                 | Carlos Rodón              |    14.1/100     |    18.6/100     | Yankees @ Rangers             
  #18   | Pete Alonso               | Gavin Williams            |    13.4/100     |    31.6/100     | Guardians @ Mets              
  #19   | Tommy Pham                | Robbie Ray                |    13.2/100     |    10.4/100     | Giants @ Pirates              
  #20   | Trevor Story              | Michael Wacha             |    13.0/100     |    19.2/100     | Royals @ Red Sox              
  #21   | Jared Triolo              | Robbie Ray                |    12.9/100     |    33.1/100     | Giants @ Pirates              
  #22   | Logan O'Hoppe             | Shane Baz                 |    12.9/100     |     6.1/100     | Rays @ Angels                 
  #23   | Ryan Jeffers              | Jack Flaherty             |    12.7/100     |    24.9/100     | Twins @ Tigers                
  #24   | Matt Chapman              | Andrew Heaney             |    12.1/100     |    30.7/100     | Giants @ Pirates              
  #25   | Michael Harris            | Jose Quintana             |    11.6/100     |     4.9/100     | Brewers @ Braves              
  #26   | Matt Shaw                 | Andrew Abbott             |    11.6/100     |    12.5/100     | Reds @ Cubs                   
  #27   | Brooks Lee                | Jack Flaherty             |    11.4/100     |    30.1/100     | Twins @ Tigers                
  #28   | Josh Lowe                 | Tyler Anderson            |    11.2/100     |    22.5/100     | Rays @ Angels                 
  #29   | Mike Yastrzemski          | Dustin May                |    10.7/100     |    10.8/100     | Royals @ Red Sox              
  #30   | Wilyer Abreu              | Michael Wacha             |    10.7/100     |    11.7/100     | Royals @ Red Sox              
  #31   | Zach Neto                 | Shane Baz                 |    10.6/100     |    22.7/100     | Rays @ Angels                 
  #32   | Ceddanne Rafaela          | Michael Wacha             |    10.4/100     |    13.7/100     | Royals @ Red Sox              
  #33   | Hunter Goodman            | Kevin Gausman             |    10.4/100     |     6.7/100     | Blue Jays @ Rockies           
  #34   | Alex Call                 | Matthew Liberatore        |    10.2/100     |     6.8/100     | Cardinals @ Dodgers           
  #35   | Mickey Moniak             | Kevin Gausman             |    10.0/100     |    17.7/100     | Blue Jays @ Rockies           
  #36   | Sean Murphy               | Jose Quintana             |    10.0/100     |    16.1/100     | Brewers @ Braves              
  #37   | Julio Rodríguez           | Jonathan Cannon           |     9.9/100     |    22.6/100     | White Sox @ Mariners          
  #38   | Junior Caminero           | Tyler Anderson            |     9.7/100     |    39.0/100     | Rays @ Angels                 
  #39   | Matt Wallner              | Jack Flaherty             |     9.6/100     |    10.7/100     | Twins @ Tigers                
  #40   | Salvador Pérez            | Dustin May                |     9.6/100     |    12.0/100     | Royals @ Red Sox              
  #41   | Jo Adell                  | Shane Baz                 |     9.3/100     |    16.7/100     | Rays @ Angels                 
  #42   | Jorge Polanco             | Jonathan Cannon           |     9.1/100     |    26.6/100     | White Sox @ Mariners          
  #43   | Casey Schmitt             | Andrew Heaney             |     9.0/100     |    14.0/100     | Giants @ Pirates              
  #44   | Mike Tauchman             | George Kirby              |     8.9/100     |    11.1/100     | White Sox @ Mariners          
  #45   | Ty France                 | Kyle Freeland             |     8.8/100     |    20.0/100     | Blue Jays @ Rockies           
  #46   | Dansby Swanson            | Andrew Abbott             |     8.7/100     |    20.3/100     | Reds @ Cubs                   
  #47   | Nolan Schanuel            | Shane Baz                 |     8.7/100     |     6.0/100     | Rays @ Angels                 
  #48   | Francisco Lindor          | Gavin Williams            |     8.6/100     |    10.2/100     | Guardians @ Mets              
  #49   | Nick Gonzales             | Robbie Ray                |     8.5/100     |    14.8/100     | Giants @ Pirates              
  #50   | Shohei Ohtani             | Matthew Liberatore        |     8.4/100     |     1.4/100     | Cardinals @ Dodgers           `;
        const strikeoutPredictionsText = `⚾ Pitcher Strikeout Predictions and 90-Day Stats (Live Data) ⚾
==============================================================

--- Jack Flaherty ---
  🔥 Predicted Strikeouts: 7.39

  📊 90-Day Performance Snapshot:
     IP: 77.0 | K: 98 | BB: 35
     K%: 30.0% | WHIP: 1.30
     HR% vs LHB: 5.14% | HR% vs RHB: 3.29%

----------------------------------------------------

--- Thomas Hatch ---
  🔥 Predicted Strikeouts: 7.2

  📊 90-Day Performance Snapshot:
     IP: 1.0 | K: 1 | BB: 0
     K%: 20.0% | WHIP: 2.00
     HR% vs LHB: 50.00% | HR% vs RHB: 0.00%

----------------------------------------------------

--- Spencer Strider ---
  🔥 Predicted Strikeouts: 6.21

  📊 90-Day Performance Snapshot:
     IP: 70.7 | K: 85 | BB: 31
     K%: 27.9% | WHIP: 1.26
     HR% vs LHB: 3.77% | HR% vs RHB: 2.05%

----------------------------------------------------

--- Justin Wrobleski ---
  🔥 Predicted Strikeouts: 5.86

  📊 90-Day Performance Snapshot:
     IP: 40.0 | K: 42 | BB: 8
     K%: 26.6% | WHIP: 1.00
     HR% vs LHB: 0.00% | HR% vs RHB: 2.54%

----------------------------------------------------

--- Robbie Ray ---
  🔥 Predicted Strikeouts: 5.8

  📊 90-Day Performance Snapshot:
     IP: 89.7 | K: 94 | BB: 30
     K%: 25.4% | WHIP: 1.10
     HR% vs LHB: 1.15% | HR% vs RHB: 3.53%

----------------------------------------------------

--- Anthony DeSclafani ---
  🔥 Predicted Strikeouts: 5.8

  📊 90-Day Performance Snapshot:
     IP: 25.7 | K: 24 | BB: 7
     K%: 21.8% | WHIP: 1.21
     HR% vs LHB: 2.33% | HR% vs RHB: 7.46%

----------------------------------------------------

--- Kevin Gausman ---
  🔥 Predicted Strikeouts: 5.66

  📊 90-Day Performance Snapshot:
     IP: 87.3 | K: 90 | BB: 24
     K%: 24.3% | WHIP: 1.18
     HR% vs LHB: 3.83% | HR% vs RHB: 3.21%

----------------------------------------------------

--- George Kirby ---
  🔥 Predicted Strikeouts: 5.6

  📊 90-Day Performance Snapshot:
     IP: 71.3 | K: 74 | BB: 18
     K%: 25.0% | WHIP: 1.14
     HR% vs LHB: 4.35% | HR% vs RHB: 1.48%

----------------------------------------------------

--- Carlos Rodón ---
  🔥 Predicted Strikeouts: 5.32

  📊 90-Day Performance Snapshot:
     IP: 85.7 | K: 99 | BB: 32
     K%: 27.6% | WHIP: 1.14
     HR% vs LHB: 1.27% | HR% vs RHB: 4.29%

----------------------------------------------------

--- Trevor Rogers ---
  🔥 Predicted Strikeouts: 4.94

  📊 90-Day Performance Snapshot:
     IP: 56.0 | K: 48 | BB: 13
     K%: 22.9% | WHIP: 0.75
     HR% vs LHB: 0.00% | HR% vs RHB: 1.14%

----------------------------------------------------

--- Ranger Suárez ---
  🔥 Predicted Strikeouts: 4.9

  📊 90-Day Performance Snapshot:
     IP: 95.7 | K: 89 | BB: 25
     K%: 22.8% | WHIP: 1.10
     HR% vs LHB: 1.56% | HR% vs RHB: 1.84%

----------------------------------------------------

--- Janson Junk ---
  🔥 Predicted Strikeouts: 4.41

  📊 90-Day Performance Snapshot:
     IP: 64.3 | K: 48 | BB: 6
     K%: 18.2% | WHIP: 1.12
     HR% vs LHB: 0.79% | HR% vs RHB: 0.73%

----------------------------------------------------

--- Jeffrey Springs ---
  🔥 Predicted Strikeouts: 4.3

  📊 90-Day Performance Snapshot:
     IP: 85.7 | K: 70 | BB: 21
     K%: 20.1% | WHIP: 1.06
     HR% vs LHB: 3.90% | HR% vs RHB: 4.43%

----------------------------------------------------

--- Gavin Williams ---
  🔥 Predicted Strikeouts: 4.27

  📊 90-Day Performance Snapshot:
     IP: 81.0 | K: 78 | BB: 43
     K%: 22.4% | WHIP: 1.25
     HR% vs LHB: 1.86% | HR% vs RHB: 3.21%

----------------------------------------------------

--- Andrew Abbott ---
  🔥 Predicted Strikeouts: 4.2

  📊 90-Day Performance Snapshot:
     IP: 84.0 | K: 65 | BB: 21
     K%: 18.9% | WHIP: 1.11
     HR% vs LHB: 1.22% | HR% vs RHB: 2.67%

----------------------------------------------------

--- Jack Leiter ---
  🔥 Predicted Strikeouts: 4.16

  📊 90-Day Performance Snapshot:
     IP: 78.3 | K: 74 | BB: 41
     K%: 21.8% | WHIP: 1.34
     HR% vs LHB: 1.96% | HR% vs RHB: 3.21%

----------------------------------------------------

--- Shane Baz ---
  🔥 Predicted Strikeouts: 4.15

  📊 90-Day Performance Snapshot:
     IP: 85.0 | K: 84 | BB: 32
     K%: 23.0% | WHIP: 1.34
     HR% vs LHB: 3.59% | HR% vs RHB: 4.55%

----------------------------------------------------

--- Jonathan Cannon ---
  🔥 Predicted Strikeouts: 4.15

  📊 90-Day Performance Snapshot:
     IP: 50.3 | K: 42 | BB: 14
     K%: 19.1% | WHIP: 1.35
     HR% vs LHB: 4.96% | HR% vs RHB: 4.04%

----------------------------------------------------

--- Cade Horton ---
  🔥 Predicted Strikeouts: 4.07

  📊 90-Day Performance Snapshot:
     IP: 70.0 | K: 53 | BB: 25
     K%: 17.0% | WHIP: 1.36
     HR% vs LHB: 1.16% | HR% vs RHB: 3.62%

----------------------------------------------------

--- Michael Wacha ---
  🔥 Predicted Strikeouts: 3.82

  📊 90-Day Performance Snapshot:
     IP: 79.7 | K: 61 | BB: 21
     K%: 18.3% | WHIP: 1.18
     HR% vs LHB: 1.18% | HR% vs RHB: 4.88%

----------------------------------------------------

--- Dustin May ---
  🔥 Predicted Strikeouts: 3.6

  📊 90-Day Performance Snapshot:
     IP: 70.3 | K: 69 | BB: 26
     K%: 22.3% | WHIP: 1.36
     HR% vs LHB: 5.08% | HR% vs RHB: 3.03%

----------------------------------------------------

--- Tyler Anderson ---
  🔥 Predicted Strikeouts: 3.55

  📊 90-Day Performance Snapshot:
     IP: 77.0 | K: 58 | BB: 29
     K%: 16.4% | WHIP: 1.57
     HR% vs LHB: 4.88% | HR% vs RHB: 4.33%

----------------------------------------------------

--- David Peterson ---
  🔥 Predicted Strikeouts: 3.43

  📊 90-Day Performance Snapshot:
     IP: 87.0 | K: 69 | BB: 29
     K%: 19.2% | WHIP: 1.20
     HR% vs LHB: 1.32% | HR% vs RHB: 1.06%

----------------------------------------------------

--- Matthew Liberatore ---
  🔥 Predicted Strikeouts: 3.33

  📊 90-Day Performance Snapshot:
     IP: 67.7 | K: 46 | BB: 20
     K%: 15.1% | WHIP: 1.48
     HR% vs LHB: 1.56% | HR% vs RHB: 2.92%

----------------------------------------------------

--- Kyle Freeland ---
  🔥 Predicted Strikeouts: 3.3

  📊 90-Day Performance Snapshot:
     IP: 66.3 | K: 46 | BB: 19
     K%: 15.4% | WHIP: 1.55
     HR% vs LHB: 0.00% | HR% vs RHB: 4.96%

----------------------------------------------------

--- Andrew Heaney ---
  🔥 Predicted Strikeouts: 3.09

  📊 90-Day Performance Snapshot:
     IP: 70.0 | K: 45 | BB: 23
     K%: 14.5% | WHIP: 1.43
     HR% vs LHB: 8.14% | HR% vs RHB: 4.46%

----------------------------------------------------

--- Jose Quintana ---
  🔥 Predicted Strikeouts: 2.74

  📊 90-Day Performance Snapshot:
     IP: 57.7 | K: 38 | BB: 26
     K%: 14.8% | WHIP: 1.44
     HR% vs LHB: 5.26% | HR% vs RHB: 2.21%

----------------------------------------------------

`;
        const h2hReportText = `PASTE YOUR H2H_DATA.TXT CONTENT HERE (Format: BATTER|PITCHER|STATS)`;
        // =================================================================================

        let allGamesData = [];
        let myPicks = [];
        let currentSort = { key: null, order: 'desc' };
        let userSettings = { isHigh90Day: 40, isHigh2Year: 50, isHighCompScore: 65, highParkFactor: 105 };

        const teamLogoMap = { "Orioles": "BAL", "Phillies": "PHI", "Giants": "SF", "Pirates": "PIT", "Twins": "MIN", "Tigers": "DET", "Guardians": "CLE", "Mets": "NYM", "Reds": "CIN", "Cubs": "CHC", "Yankees": "NYY", "Rangers": "TEX", "Blue Jays": "TOR", "Rockies": "COL", "Rays": "TB", "Angels": "LAA", "Cardinals": "STL", "Dodgers": "LAD", "White Sox": "CHW", "Mariners": "SEA", "Padres": "SD", "Diamondbacks": "ARI", "Athletics": "OAK", "Nationals": "WSH", "Brewers": "MIL", "Braves": "ATL", "Marlins": "MIA", "Astros": "HOU", "Red Sox": "BOS", "Royals": "KC", "ATH": "OAK" };

        function parseStrikeoutPredictions(text) { const p = []; const b = text.trim().split('----------------------------------------------------'); b.forEach(c => { if (c.trim() === '') return; const n = c.match(/--- (.*?) ---/); const s = c.match(/🔥 Predicted Strikeouts:\s*([\d.]+)/); if (n && s) { const d = { name: n[1].trim(), strikeouts: s[1], stats: 'N/A' }; const a = c.match(/IP: ([\d.]+) \| K: (\d+) \| BB: (\d+)\s+K%: ([\d.]+)% \| WHIP: ([\d.]+)/); if (a) { d.stats = { ip: a[1], k: a[2], bb: a[3], k_percent: a[4], whip: a[5] }; const h = c.match(/HR% vs LHB: ([\d.]+)% \| HR% vs RHB: ([\d.]+)%/); if (h) { d.stats.hr_lhb = h[1]; d.stats.hr_rhb = h[2]; } } p.push(d); } }); return p; }
        function renderStrikeoutPredictions(strikeoutData, container) { if (!strikeoutData || strikeoutData.length === 0) { return; } let h = strikeoutData.map(p => { let s = ''; if (p.stats !== 'N/A') { let hr = ''; if (p.stats.hr_lhb && p.stats.hr_rhb) { hr = `<span><strong>HR% LHB:</strong> ${p.stats.hr_lhb}%</span><span><strong>HR% RHB:</strong> ${p.stats.hr_rhb}%</span>`; } s = `<div class="mt-2 text-xs text-gray-600 dark:text-gray-400"><h4 class="font-semibold mb-2 text-sm">90-Day Performance:</h4><div class="grid grid-cols-2 gap-x-4 gap-y-1 p-3 rounded-md bg-gray-50 dark:bg-gray-700/50"><span><strong>IP:</strong> ${p.stats.ip}</span><span><strong>K:</strong> ${p.stats.k}</span><span><strong>BB:</strong> ${p.stats.bb}</span><span><strong>K%:</strong> ${p.stats.k_percent}%</span><span><strong>WHIP:</strong> ${p.stats.whip}</span>${hr}</div></div>`; } else { s = `<div class="mt-2 text-xs text-gray-500 dark:text-gray-400 italic">No 90-day stats available</div>`; } return `<div class="player-row border-b border-gray-200 dark:border-gray-700 p-3 last:border-b-0"><div class="flex justify-between items-center"><span class="player-name font-semibold">${p.name}</span><span class="text-lg font-bold text-indigo-600 dark:text-indigo-400">${p.strikeouts} K</span></div>${s}</div>`; }).join(''); const finalHtml = `<div class="top-picks-card rounded-lg shadow-md overflow-hidden border dark:border-gray-700"><details open><summary class="p-4 flex justify-between items-center game-header"><h2 class="text-lg font-bold">Pitcher Strikeout Predictions</h2></summary><div class="p-2 bg-white dark:bg-gray-800">${h}</div></details></div>`; container.insertAdjacentHTML('beforeend', finalHtml); }
        function parseSimilarityReport(text) { const p = []; const l = text.trim().split('\n'); for (let i = 5; i < l.length; i++) { const a = l[i]; if (!a.includes('|')) continue; const b = a.split('|').map(c => c.trim()); if (b.length === 6) { p.push({ rank: b[0], batter: b[1], pitcher: b[2], ninetyDaySim: b[3], twoYearSim: b[4], game: b[5] }); } } return p; }
        function renderSimilarityReport(similarityData, container) { if (!similarityData || similarityData.length === 0) { return; } let h = similarityData.map((p, i) => { const gameData = allGamesData.find(g => p.game.includes(g.title.split(' (')[0])); const playerData = gameData?.teams.flatMap(t => t.players).find(player => player.name === p.batter); const badges = playerData ? `<span class="highlight-badge">${playerData.isHigh90Day ? '🔥' : ''}</span><span class="highlight-badge">${playerData.isHigh2Year ? '⭐' : ''}</span><span class="highlight-badge">${playerData.isHighCompScore ? '⚾' : ''}</span>` : ''; return `<tr class="player-row ${i % 2 === 0 ? 'bg-white dark:bg-gray-800/80' : 'bg-gray-50 dark:bg-gray-800/50'}"><td class="py-2 px-4 border-b dark:border-gray-700 text-sm text-center">${p.rank}</td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm"><div class="player-name-cell">${p.batter}<span class="ml-auto flex items-center gap-1">${badges}</span></div></td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm">${p.pitcher}</td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm text-right">${p.ninetyDaySim}</td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm text-right">${p.twoYearSim}</td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm">${p.game}</td></tr>`; }).join(''); const finalHtml = `<div class="top-picks-card rounded-lg shadow-md overflow-hidden border dark:border-gray-700"><details open><summary class="p-4 flex justify-between items-center game-header cursor-pointer"><h2 class="text-lg font-bold">Top 50 Similarity Sluts</h2></summary><div class="p-4"><div class="overflow-x-auto"><table class="min-w-full"><thead class="table-header"><tr><th class="py-3 px-4 text-center text-xs font-semibold uppercase">Rank</th><th class="py-3 px-4 text-left text-xs font-semibold uppercase">Batter</th><th class="py-3 px-4 text-left text-xs font-semibold uppercase">Pitcher</th><th class="py-3 px-4 text-right text-xs font-semibold uppercase">90-Day Sim</th><th class="py-3 px-4 text-right text-xs font-semibold uppercase">2-Year Sim</th><th class="py-3 px-4 text-left text-xs font-semibold uppercase">Game</th></tr></thead><tbody>${h}</tbody></table></div></div></details></div>`; container.insertAdjacentHTML('beforeend', finalHtml); }
        function parseReport(text, settings) { const g = []; const b = text.split(/={80,}/); const s = b.findIndex(c => c.trim().startsWith('GAME:')); if (s === -1) { return []; } const a = b.slice(s); a.forEach(c => { if (!c.trim()) return; const l = c.trim().split('\n'); const t = l.find(d => d.startsWith('GAME:')); if (!t) return; const e = t.replace('GAME: ', '').trim(); const f = c.split(/-{80,}/).slice(1); const h = []; f.forEach((i, j) => { const k = i.trim().split('\n'); if (k.length < 3) return; let m = k[0].trim(); let n = 'N/A'; let pitcherName = m.split(' vs. ')[1] || ''; if (pitcherName.includes('(')) pitcherName = pitcherName.split(' (')[0].trim(); const o = m.indexOf('('); if (o > -1) { n = m.substring(o).replace('(', '').replace(')', ''); m = m.substring(0, o).trim(); } const p = []; for (let q = 2; q < k.length; q++) { const r = k[q]; if (!r.includes('|') || r.includes('---')) continue; const u = r.split('|').map(v => v.trim()); if (u.length < 4) continue; const w = u[0]; const x = u[1]; const y = u[2]; const z = u[3]; const A = x.toLowerCase().includes('low data') ? -1 : parseFloat(x); const B = y.toLowerCase().includes('low data') ? -1 : parseFloat(y); const C = z.toLowerCase().includes('low data') || z.toLowerCase().includes('n/a') ? -1 : parseInt(z); p.push({ name: w, prob90DayStr: x, prob2YearStr: y, hrCompScoreStr: z, prob90DayValue: A, prob2YearValue: B, hrCompScoreValue: C, isHigh90Day: (A > settings.isHigh90Day), isHigh2Year: (B > settings.isHigh2Year), isHighCompScore: (C >= settings.isHighCompScore) }); } if (p.length > 0) { h.push({ id: `${e}-${j}`, title: m, pitcherStats: n, pitcherName: pitcherName, players: p }); } }); if (h.length > 0) { g.push({ title: e, teams: h }); } }); return g; }

        function buildGameCardHTML(game) { const teamsHtml = game.teams.map(team => { const playersHtml = team.players.map(player => { const isStarred = myPicks.some(p => p.name === player.name && p.gameTitle === game.title); const badges = `<span class="highlight-badge" title="High 90-Day Probability">${player.isHigh90Day ? '🔥' : ''}</span><span class="highlight-badge" title="High 2-Year Probability">${player.isHigh2Year ? '⭐' : ''}</span><span class="highlight-badge" title="High HR Similarity Score">${player.isHighCompScore ? '⚾' : ''}</span>`; return `<tr class="player-row"><td class="py-2 px-4 border-b dark:border-gray-700 text-sm"><div class="player-name-cell"><button class="star-btn ${isStarred ? 'starred' : ''}" data-player-name="${player.name}" data-game-title="${game.title}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg></button><span class="player-name">${player.name}</span><span class="ml-auto flex items-center gap-1">${badges}</span></div></td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm text-center ${player.prob90DayStr.toLowerCase().includes('low data') ? 'low-data' : ''}">${player.prob90DayStr}</td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm text-center ${player.prob2YearStr.toLowerCase().includes('low data') ? 'low-data' : ''}">${player.prob2YearStr}</td><td class="py-2 px-4 border-b dark:border-gray-700 text-sm text-center ${player.hrCompScoreStr.toLowerCase().includes('n/a') ? 'low-data' : ''}">${player.hrCompScoreStr}</td></tr>`; }).join(''); return `<div class="p-4" data-team-id="${team.id}"><details open class="mb-2"><summary class="font-semibold dark:text-gray-300 text-md mb-2 flex justify-between items-center"><span>${team.title}</span></summary><div class="pitcher-stats-box text-sm p-2 rounded-md mt-2">${team.pitcherStats}</div></details><div class="overflow-x-auto"><table class="min-w-full"><thead class="table-header"><tr><th class="py-2 px-4 border-b-2 dark:border-gray-600 text-left text-xs font-semibold uppercase">Batter</th><th class="py-2 px-4 border-b-2 dark:border-gray-600 text-center text-xs font-semibold uppercase sortable" data-sort-key="prob90DayValue">90-Day Prob</th><th class="py-2 px-4 border-b-2 dark:border-gray-600 text-center text-xs font-semibold uppercase sortable" data-sort-key="prob2YearValue">2-Year Prob</th><th class="py-2 px-4 border-b-2 dark:border-gray-600 text-center text-xs font-semibold uppercase sortable" data-sort-key="hrCompScoreValue">HR SIMILARITY</th></tr></thead><tbody>${playersHtml}</tbody></table></div></div>`; }).join(''); return `<div class="p-4 game-header"><h2 class="font-bold text-lg">${game.title}</h2></div><div class="divide-y dark:divide-gray-700">${teamsHtml}</div>`; }
        function renderGridReport(gamesData, container) { container.innerHTML = ''; if (!gamesData || gamesData.length === 0) return; gamesData.forEach(g => { const d = document.createElement('div'); d.className = 'card border overflow-hidden rounded-lg shadow-md'; d.dataset.gameTitle = g.title; d.innerHTML = buildGameCardHTML(g); container.appendChild(d); }); }
        function renderGameTicker(gamesData, container) { container.innerHTML = allGamesData.map(game => { const match = game.title.match(/(.*?) \((.*?)\) \| HR Park Factor: (.*)/); if (!match) return `<button class="ticker-item" data-game-title="${game.title}"><div class="flex flex-col"><span class="font-bold text-sm">${game.title.split(' | ')[0]}</span></div></button>`; const [, matchup, time, parkFactor] = match; const teams = matchup.split(' @ '); const awayTeam = teams[0].trim(); const homeTeam = teams[1].trim(); const awayLogo = teamLogoMap[awayTeam] ? `<img src="https://a.espncdn.com/i/teamlogos/mlb/500/${teamLogoMap[awayTeam]}.png" alt="${awayTeam}" class="ticker-logo">` : `<div class="w-7 h-7"></div>`; const homeLogo = teamLogoMap[homeTeam] ? `<img src="https://a.espncdn.com/i/teamlogos/mlb/500/${teamLogoMap[homeTeam]}.png" alt="${homeTeam}" class="ticker-logo">` : `<div class="w-7 h-7"></div>`; const highlightClass = parseInt(parkFactor) >= userSettings.highParkFactor ? 'high-park-factor' : ''; return `<button class="ticker-item ${highlightClass}" data-game-title="${game.title}"><div class="flex flex-col"><div class="flex items-center justify-center gap-2"><div class="w-7">${awayLogo}</div><span class="font-bold text-sm">@</span><div class="w-7">${homeLogo}</div></div><span class="text-xs text-gray-500 dark:text-gray-400 mt-1">${time} | PF: ${parkFactor}</span></div></button>`; }).join(''); }
        function renderMyPicks(container) { container.innerHTML = ''; const headerHTML = `<div class="relative p-4 flex justify-between items-center bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700 rounded-t-lg"><h2 class="text-lg font-bold">My Picks</h2><div class="flex gap-2">${myPicks.length > 0 ? `<button id="copy-picks-btn" class="action-btn text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path d="M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z" /><path d="M4 3a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H4z" /></svg><span>Copy</span></button><button id="download-picks-btn" class="action-btn text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" /></svg><span>Download .txt</span></button>` : ''}</div><span id="copy-feedback" class="hidden absolute right-4 top-16 text-xs bg-green-500 text-white px-2 py-1 rounded-md">Copied!</span></div>`; if (myPicks.length === 0) { container.innerHTML = `<div class="card rounded-lg shadow-md overflow-hidden">${headerHTML}<div class="text-center p-8 text-gray-500">You haven't selected any picks. Click the ⭐ next to a player's name to add them here.</div></div>`; return; } const picksHtml = myPicks.map(p => `<tr class="player-row"><td class="p-4 border-b dark:border-gray-700">${p.name}</td><td class="p-4 border-b dark:border-gray-700">${p.gameTitle}</td><td class="p-4 border-b dark:border-gray-700 text-right"><button class="text-red-500 hover:text-red-700 text-sm remove-pick-btn" data-player-name="${p.name}" data-game-title="${p.gameTitle}">Remove</button></td></tr>`).join(''); container.innerHTML = `<div class="card rounded-lg shadow-md overflow-hidden">${headerHTML}<table class="w-full"><thead><tr class="table-header"><th class="p-4 text-left text-xs font-semibold uppercase">Player</th><th class="p-4 text-left text-xs font-semibold uppercase">Game</th><th></th></tr></thead><tbody>${picksHtml}</tbody></table></div>`; }

        document.addEventListener('DOMContentLoaded', () => {
            const mainContent = document.getElementById('main-content');
            function checkPassword() { const p = prompt("Please enter the password:"); if (p === "slutforme") { mainContent.classList.remove('hidden'); initializePage(); } else { alert("Password incorrect. Access denied."); document.body.innerHTML = '<div class="h-screen flex items-center justify-center bg-gray-900 text-white"><h1 class="text-2xl">Access Denied</h1></div>'; } }

            function initializePage() {
                const themeToggleBtn = document.getElementById('theme-toggle');
                const dashboardContainer = document.getElementById('dashboard-container');
                const gridContainer = document.getElementById('grid-container');
                const picksContainer = document.getElementById('picks-container');
                const focusViewContainer = document.getElementById('focus-view-container');
                const tabBarSlider = document.getElementById('tab-bar-slider');
                const tabItems = document.querySelectorAll('.tab-item');
                const gameTickerContainer = document.getElementById('game-ticker-container');
                const focusLists = document.getElementById('focus-lists');
                const focusGame = document.getElementById('focus-game');
                const settingsBtn = document.getElementById('settings-btn');
                const settingsModal = document.getElementById('settings-modal');

                function loadSettings() { const saved = localStorage.getItem('userSettings'); if (saved) { userSettings = JSON.parse(saved); } }
                loadSettings();

                myPicks = JSON.parse(localStorage.getItem('myPicks')) || [];
                allGamesData = parseReport(reportText, userSettings);
                const similarityData = parseSimilarityReport(similarityReportText);
                const strikeoutData = parseStrikeoutPredictions(strikeoutPredictionsText);

                function applyCascadeAnimation(containerSelector) { const cards = document.querySelectorAll(`${containerSelector} > *`); cards.forEach(c => c.classList.remove('card-cascade')); setTimeout(() => { cards.forEach((card, index) => { card.style.animationDelay = `${index * 80}ms`; card.classList.add('card-cascade'); }); }, 10); }

                function reRenderAllViews() { allGamesData = parseReport(reportText, userSettings); const activeTabView = document.querySelector('.tab-item.active')?.dataset.view || 'dashboard'; if (activeTabView === 'dashboard' || !focusViewContainer.classList.contains('hidden')) { dashboardContainer.innerHTML = ''; renderSimilarityReport(similarityData, dashboardContainer); renderStrikeoutPredictions(strikeoutData, dashboardContainer); } if (activeTabView === 'grid' || !focusViewContainer.classList.contains('hidden')) { gridContainer.innerHTML = ''; renderGridReport(allGamesData, gridContainer); } if(!focusViewContainer.classList.contains('hidden')) { const gameTitle = focusGame.querySelector('.card')?.dataset.gameTitle; if(gameTitle) { const gameData = allGamesData.find(g => g.title === gameTitle); if(gameData) focusGame.innerHTML = `<div class="card border rounded-lg shadow-lg overflow-hidden" data-game-title="${gameTitle}">${buildGameCardHTML(gameData)}</div>`; } } renderGameTicker(allGamesData, gameTickerContainer); applyCascadeAnimation(`#${activeTabView}-container`); }

                renderSimilarityReport(similarityData, dashboardContainer);
                renderStrikeoutPredictions(strikeoutData, dashboardContainer);
                renderGridReport(allGamesData, gridContainer);
                renderGameTicker(allGamesData, gameTickerContainer);
                applyCascadeAnimation('#dashboard-container');

                if (document.documentElement.classList.contains('dark')) { document.getElementById('theme-toggle-light-icon').classList.remove('hidden'); } else { document.getElementById('theme-toggle-dark-icon').classList.remove('hidden'); }

                const moveSlider = (targetTab) => { if (!targetTab) return; const { offsetLeft, offsetWidth } = targetTab; tabBarSlider.style.left = `${offsetLeft}px`; tabBarSlider.style.width = `${offsetWidth}px`; };

                tabItems.forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        document.querySelector('.tab-item.active').classList.remove('active');
                        tab.classList.add('active');
                        const view = tab.dataset.view;
                        dashboardContainer.classList.toggle('hidden', view !== 'dashboard');
                        gridContainer.classList.toggle('hidden', view !== 'grid');
                        picksContainer.classList.toggle('hidden', view !== 'picks');
                        focusViewContainer.classList.add('hidden');

                        if(view === 'dashboard' || view === 'grid') {
                            const container = view === 'dashboard' ? dashboardContainer : gridContainer;
                            container.innerHTML = '';
                            if(view === 'dashboard') {
                                renderSimilarityReport(similarityData, dashboardContainer);
                                renderStrikeoutPredictions(strikeoutData, dashboardContainer);
                            } else {
                                renderGridReport(allGamesData, gridContainer);
                            }
                            applyCascadeAnimation(`#${view}-container`);
                        }
                        if (view === 'picks') { renderMyPicks(picksContainer); }
                        moveSlider(tab);
                    });
                });

                gameTickerContainer.addEventListener('click', (e) => {
                    const tickerItem = e.target.closest('.ticker-item');
                    if(tickerItem) {
                        const gameTitle = tickerItem.dataset.gameTitle;
                        dashboardContainer.classList.add('hidden');
                        gridContainer.classList.add('hidden');
                        picksContainer.classList.add('hidden');
                        focusViewContainer.classList.remove('hidden');
                        focusLists.innerHTML = '';
                        renderSimilarityReport(similarityData, focusLists);
                        renderStrikeoutPredictions(strikeoutData, focusLists);
                        const gameData = allGamesData.find(g => g.title === gameTitle);
                        if(gameData) { focusGame.innerHTML = `<div class="card border rounded-lg shadow-lg overflow-hidden" data-game-title="${gameTitle}">${buildGameCardHTML(gameData)}</div>`; }
                    }
                });

                function generatePicksText() { if (myPicks.length === 0) return "No picks selected."; const date = new Date().toLocaleDateString(); let text = `Similarity Slut Picks for ${date}\n=====================================\n\n`; text += myPicks.map(p => `- ${p.name} (${p.gameTitle})`).join('\n'); return text; }
                function togglePick(playerName, gameTitle) { const pickIndex = myPicks.findIndex(p => p.name === playerName && p.gameTitle === gameTitle); if (pickIndex > -1) { myPicks.splice(pickIndex, 1); } else { myPicks.push({ name: playerName, gameTitle: gameTitle }); } localStorage.setItem('myPicks', JSON.stringify(myPicks)); document.querySelectorAll(`.star-btn[data-player-name="${playerName}"][data-game-title="${gameTitle}"]`).forEach(btn => { btn.classList.toggle('starred', pickIndex === -1); }); if (!picksContainer.classList.contains('hidden')) { renderMyPicks(picksContainer); } }

                mainContent.addEventListener('click', (e) => {
                    const starBtn = e.target.closest('.star-btn');
                    const removeBtn = e.target.closest('.remove-pick-btn');
                    const sortHeader = e.target.closest('.sortable');
                    const downloadBtn = e.target.closest('#download-picks-btn');
                    const copyBtn = e.target.closest('#copy-picks-btn');

                    if (starBtn) { togglePick(starBtn.dataset.playerName, starBtn.dataset.gameTitle); }
                    if (removeBtn) { togglePick(removeBtn.dataset.playerName, removeBtn.dataset.gameTitle); }
                    if(sortHeader) {
                        const teamContainer = sortHeader.closest('[data-team-id]');
                        if (teamContainer) {
                             const gameCard = teamContainer.closest('.card');
                             const gameTitle = gameCard.dataset.gameTitle;
                             const gameData = allGamesData.find(g => g.title === gameTitle);
                             const teamData = gameData.teams.find(t => t.id === teamContainer.dataset.teamId);
                            if(teamData) {
                                const sortKey = sortHeader.dataset.sortKey;
                                const order = (currentSort.key === sortKey && currentSort.order === 'desc') ? 'asc' : 'desc';
                                currentSort = { key: sortKey, order: order };
                                teamData.players.sort((a, b) => { const vA = a[sortKey]; const vB = b[sortKey]; if (vA === -1 && vB !== -1) return 1; if (vB === -1 && vA !== -1) return -1; return order === 'desc' ? vB - vA : vA - vB; });
                                gameCard.innerHTML = buildGameCardHTML(gameData);
                            }
                        }
                    }
                    if (downloadBtn) { const text = generatePicksText(); const blob = new Blob([text], { type: 'text/plain' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `my_picks_${new Date().toISOString().split('T')[0]}.txt`; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url); }
                    if (copyBtn) { const text = generatePicksText(); navigator.clipboard.writeText(text).then(() => { const feedback = document.getElementById('copy-feedback'); if (feedback) { feedback.classList.remove('hidden'); feedback.classList.add('show'); setTimeout(() => { feedback.classList.remove('show'); setTimeout(() => feedback.classList.add('hidden'), 500); }, 1500); } }).catch(err => console.error('Failed to copy picks: ', err)); }
                });

                themeToggleBtn.addEventListener('click', () => {
                    document.documentElement.classList.toggle('dark');
                    const isDark = document.documentElement.classList.contains('dark');
                    localStorage.setItem('color-theme', isDark ? 'dark' : 'light');
                    document.getElementById('theme-toggle-dark-icon').classList.toggle('hidden', !isDark);
                    document.getElementById('theme-toggle-light-icon').classList.toggle('hidden', isDark);
                });

                settingsBtn.addEventListener('click', () => {
                    document.getElementById('thresh-90day').value = userSettings.isHigh90Day;
                    document.getElementById('thresh-2year').value = userSettings.isHigh2Year;
                    document.getElementById('thresh-hrsim').value = userSettings.isHighCompScore;
                    document.getElementById('thresh-parkfactor').value = userSettings.highParkFactor;
                    settingsModal.classList.remove('hidden');
                });
                document.getElementById('settings-close-btn').addEventListener('click', () => settingsModal.classList.add('hidden'));
                document.getElementById('settings-cancel-btn').addEventListener('click', () => settingsModal.classList.add('hidden'));
                document.getElementById('settings-save-btn').addEventListener('click', () => {
                    userSettings.isHigh90Day = parseInt(document.getElementById('thresh-90day').value, 10);
                    userSettings.isHigh2Year = parseInt(document.getElementById('thresh-2year').value, 10);
                    userSettings.isHighCompScore = parseInt(document.getElementById('thresh-hrsim').value, 10);
                    userSettings.highParkFactor = parseInt(document.getElementById('thresh-parkfactor').value, 10);
                    localStorage.setItem('userSettings', JSON.stringify(userSettings));
                    settingsModal.classList.add('hidden');
                    reRenderAllViews();
                });

                document.getElementById('zxm-button').addEventListener('click', () => window.open('https://x.com/Zxmbuu', '_blank'));
                window.addEventListener('load', () => { moveSlider(document.querySelector('.tab-item.active')); });
            }

            checkPassword();
        });
    </script>
</body>
</html>
